<% include ./header %>

		<!-- Navigation -->
		<% include userNavbar %>
			
			  <!-- Page Content -->
			  <div class="container-login100">
				<div class="row">
				  <div class="col-lg-12 text-center">
						<table id="userTable" >
								<thead>
									<td>ID</td>
									<td>Name</td>
									<td>Email</td>
									<td>Password</td>
									<td>Action</td>
								</thead>
								<tbody>
									<tr>
									<% userList.forEach((user, index)=>{%>
										<td><%=user.id%></td>
										<td><%=user.name%></td>
										<td><%=user.email%></td>
										<td><input type="password" disabled value="<%=user.password%>" id="password_<%=index%>"></td>
										<td><i class="fa fa-eye" aria-hidden="true" data-toggle="tooltip" data-placement="top" id="showPassword_<%=index%>" title="Show Passowrd"></i> | 
											<a href="/edit?id=<%=user.id%>"><i data-toggle="tooltip" data-placement="top" title="Edit" class="fa fa-pencil-square-o" aria-hidden="true"></i></a> |
											<a href="/user/delete?id=<%=user.id%>"><i  data-toggle="tooltip" data-placement="top" title="Delete" class="fa fa-times" aria-hidden="true"></i></a></td>
									</tr>
										<%})%>
									
								</tbody>
							</table>
				  </div>
				  <div class="wrap-login100 text-center">
						<div class="text-center">
								<span class="txt1">
									Not <%=username%>?
								</span>
		
								<a href="/logout" class="txt2 hov1" >
									Logout
								</a>
							</div>
				  </div>
				</div>
				
			  </div>
	
	
<% include ./footer %>
<script>
	
	$('.fa.fa-times').tooltip();
	$('.fa.fa-eye').tooltip();
	$('.fa.fa-pencil-square-o').tooltip();
		$(document).ready( function () {
				$('#userTable').DataTable();
			let rowLength = $('input[type="password"]').length;
			 
			 for(let i=0; i<rowLength; i++){
			   $(`#showPassword_${i}`).on('mousedown', ()=>{
				  $(`#password_${i}`).attr('type', 'text');
				})
			  $(`#showPassword_${i}`).on('mouseup', ()=>{
				 $(`#password_${i}`).attr('type', 'password');
			  })
			 }
  		});
		</script>
